{% extends 'base.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('build/css/inside.css') }}">
    <style>
        .newWindow form input, .newWindow form select {
            width: 100%;
        }
        .newWindow button {
            padding: 10px 35px;
            margin: 10px 10px 10px 0;
            background: #ff7f2a;
            border: none;
            cursor: pointer;
            color: white;
        }
    </style>
{% endblock %}

{% block header %}
    {{ include ('inside/horizontal-menu.html.twig') }}
{% endblock %}

{% block content %}
    {% block side %}
        <section>
            <div id="sideNavigation" class="sideNavigation">

                {{ include ('inside/vertical-menu-part1.html.twig') }}

                {{ include ('inside/vertical-menu-part2.html.twig') }}

                {{ include ('inside/vertical-menu-part3.html.twig') }}

            </div>
        </section>
    {% endblock %}

    {% block section2 %}
        <section>
            <div id="main">

                {{ include ('inside/new-document.html.twig') }}

                {% for i in 1..12 %}
                    <article id={{ i }}>
                        {% block table %}
                        {% if i <= 6 or i == 11%}
                        {{ include ('inside/table.html.twig') }}
                        {% elseif i >= 7 and i <= 10 %}
                            <div class="displayCenter">
                                <img class="emptyImage" src="{{ asset('images/folder1.png') }}" alt="Empty Folder"/>
                                <div>Nėra dokumentų, priskirtų šiai kategorijai</div>
                            </div>
                        {% elseif i == 12 %}
                        <div class="displayCenter">
                            <img class="emptyImage" src="{{ asset('images/tag1.png') }}" alt="Empty Folder"/>
                            <div>Nėra dokumentų su šia etikete</div>
                            {% endif %}
                            {% endblock %}
                    </article>
                {% endfor %}

            </div>
        </section>
        <script>
            let table = document.getElementsByTagName("table")[0];
            if (table) {
                table.addEventListener("click", (e) => {
                    if (e.target.className === "delete") {
                        console.log("test");
                        const id = e.target.getAttribute("data-id");
                        fetch(`/delete/${id}`, {
                            method: "DELETE"
                        }).then(res => window.location.reload());
                    }
                });
            }
        </script>
    {% endblock %}

    {% block footer %}{% endblock %}

    {% block javascripts %}
        <script src="{{ asset('build/js/scripts.js') }}"></script>
    {% endblock %}

{% endblock %}